import matplotlib.pyplot as plt
from collections import Counter
import hashlib

scales=[1,4,16,64,256,1024]
all_errs_all_rounds = [[0.6666666666666666, 0.9090909090909091, 0.975609756097561, 0.9831029185867896, 0.988798764001545, 0.9949475320637389],
                       [0.7692307692307693, 0.8333333333333334, 0.935672514619883, 0.943952802359882, 0.9778456837280367, 0.99736328125],
                       [1.0, 0.9090909090909092, 0.930232558139535, 0.9696969696969697, 0.979716800612323, 0.9865125240847784],
                       [1.0, 0.775, 0.925, 0.9953125, 0.972644376899696, 0.9906162329495984],
                       [0.7692307692307692, 0.9302325581395348, 0.96875, 0.9595202398800599, 0.9808429118773946, 0.9949475320637388],
                       [0.9090909090909092, 0.9756097560975611, 0.9876543209876544, 0.9696969696969697, 0.9834805993084902, 0.9981479676381715],
                       [0.5882352941176471, 0.8888888888888888, 0.9411764705882353, 0.9523809523809523, 0.9789674952198852, 0.9977589398811264],
                       [1.0, 0.851063829787234, 1.0, 0.9756097560975611, 0.973384030418251, 0.99931640625],
                       [1.0, 0.85, 1.0, 0.9624060150375939, 0.9711684370257967, 0.9987304687499999],
                       [0.7692307692307693, 0.9302325581395349, 0.98159509202454, 0.9922480620155039, 0.9653092006033182, 0.9999023437500001],
                       [0.7692307692307692, 0.8888888888888888, 0.9696969696969697, 0.9968847352024922, 0.9789674952198852, 0.9989257812499999],
                       [0.8999999999999999, 0.9500000000000001, 0.9874999999999999, 0.9922480620155039, 0.9819716148830072, 0.99853515625],
                       [0.625, 0.851063829787234, 0.9815950920245398, 0.9734375000000001, 0.9868928296067848, 0.99453125],
                       [1.0, 1.0, 0.9638554216867469, 0.953800298062593, 0.9823484267075978, 0.9963027826425375],
                       [0.7692307692307692, 0.9500000000000001, 0.9195402298850575, 0.9638554216867469, 0.9744956223829463, 0.9968847352024921],
                       [0.9, 0.9302325581395349, 0.9248554913294798, 0.960960960960961, 0.9649453448925744, 0.9901373041964804],
                       [0.8333333333333333, 0.9523809523809523, 0.9523809523809523, 0.9953343701399688, 0.9894531250000002, 0.9915039062500001],
                       [0.9090909090909092, 0.9523809523809524, 0.9580838323353293, 0.9667673716012085, 0.972644376899696, 0.9996093749999999],
                       [0.9090909090909091, 0.9500000000000001, 1.0, 0.972644376899696, 0.9980506822612085, 0.9884765625000002],
                       [0.7692307692307692, 0.9750000000000001, 0.975609756097561, 0.9800918836140888, 0.9861325115562403, 0.99698179339889]]

mins = [min(col) for col in zip(*all_errs_all_rounds)]
averages = [sum(col) / len(col) for col in zip(*all_errs_all_rounds)]
maxes = [max(col) for col in zip(*all_errs_all_rounds)]

# Create the plot
plt.figure(figsize=(8, 5))  # Set figure size

# Set x-axis to logarithmic scale
plt.xscale("log")

# Plot each line
#for i in range(len(all_errs_all_rounds)):
#    plt.plot(scales, all_errs_all_rounds[i], marker='o', linestyle='-', color='blue')
plt.plot(scales, mins, marker='+', label='min', linestyle=':', color='red')
plt.plot(scales, averages, marker='o', label='mean', linestyle='-', color='green')
plt.plot(scales, maxes, marker='x', label='max', linestyle='--', color='blue')
    
# Add labels and title
plt.xlabel("p")
plt.ylabel("Error")
plt.title("Probability vs. Error")

# Add legend and grid
plt.legend()
plt.grid(True)

# Show the plot
plt.show()
